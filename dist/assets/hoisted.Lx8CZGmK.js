import"./hoisted.Q8dkhOQE.js";class c{container;config;previousFocus=null;isActive=!1;constructor(t,e={}){this.container=t,this.config={escapeDeactivates:!0,clickOutsideDeactivates:!0,returnFocusOnDeactivate:!0,...e}}activate(){if(this.isActive)return;this.previousFocus=document.activeElement,this.isActive=!0;const t=this.getFirstFocusableElement();t&&t.focus(),document.addEventListener("keydown",this.handleKeyDown),this.config.clickOutsideDeactivates&&document.addEventListener("click",this.handleClickOutside)}deactivate(){this.isActive&&(this.isActive=!1,document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("click",this.handleClickOutside),this.config.returnFocusOnDeactivate&&this.previousFocus&&this.previousFocus.focus())}handleKeyDown=t=>{if(this.isActive){if(t.key==="Escape"&&this.config.escapeDeactivates){t.preventDefault(),this.deactivate();return}t.key==="Tab"&&this.handleTabKey(t)}};handleTabKey=t=>{const e=this.getFocusableElements(),s=e[0],i=e[e.length-1];t.shiftKey?document.activeElement===s&&(t.preventDefault(),i?.focus()):document.activeElement===i&&(t.preventDefault(),s?.focus())};handleClickOutside=t=>{this.container.contains(t.target)||this.deactivate()};getFocusableElements(){const t=["a[href]","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])",'[tabindex]:not([tabindex="-1"])'].join(", ");return Array.from(this.container.querySelectorAll(t))}getFirstFocusableElement(){return this.getFocusableElements()[0]||null}}class n{button;menu;isOpen=!1;focusTrap=null;constructor(){this.button=document.getElementById("mobile-menu-button"),this.menu=document.getElementById("mobile-menu"),this.button&&this.menu&&this.init()}init(){this.button.addEventListener("click",this.toggle.bind(this)),this.focusTrap=new c(this.menu,{escapeDeactivates:!0,clickOutsideDeactivates:!0,returnFocusOnDeactivate:!0}),window.addEventListener("resize",()=>{window.innerWidth>=1024&&this.isOpen&&this.close()}),document.addEventListener("focus-trap:deactivate",()=>{this.isOpen&&this.close()})}toggle(){this.isOpen?this.close():this.open()}open(){this.isOpen=!0,this.button.setAttribute("aria-expanded","true"),this.menu.classList.remove("hidden"),this.updateButtonAnimation(),this.focusTrap?.activate()}close(){this.isOpen=!1,this.button.setAttribute("aria-expanded","false"),this.menu.classList.add("hidden"),this.updateButtonAnimation(),this.focusTrap?.deactivate()}updateButtonAnimation(){const t=this.button.querySelectorAll("span");this.isOpen?(t[0]?.classList.add("rotate-45","translate-y-1.5"),t[1]?.classList.add("opacity-0"),t[2]?.classList.add("-rotate-45","-translate-y-1.5")):(t[0]?.classList.remove("rotate-45","translate-y-1.5"),t[1]?.classList.remove("opacity-0"),t[2]?.classList.remove("-rotate-45","-translate-y-1.5"))}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>new n):new n;
