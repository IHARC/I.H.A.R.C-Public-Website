---
import BaseLayout from '../layouts/BaseLayout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import PageHero from '../components/PageHero.astro';
import SectionDivider from '../components/SectionDivider.astro';
import { programs } from '../data/site';

// Icon mapping for programs
const iconMap = {
  users: `<path d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z" />`,
  heart: `<path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd" />`,
  zap: `<path fill-rule="evenodd" d="M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z" clip-rule="evenodd" />`,
  'shield-check': `<path fill-rule="evenodd" d="M9.504.43a1.516 1.516 0 012.437 0l8.5 11.09a1.516 1.516 0 01-1.218 2.48H1.777a1.516 1.516 0 01-1.218-2.48L9.504.43zM6.96 6.97a.75.75 0 011.06 0L10 8.94l2.98-1.97a.75.75 0 111.04 1.08L11.06 10l2.98 1.97a.75.75 0 11-1.04 1.08L10 11.06l-1.98 1.97a.75.75 0 01-1.04-1.08L8.94 10 5.96 8.03a.75.75 0 010-1.06z" clip-rule="evenodd" />`,
  lightbulb: `<path d="M11 3a1 1 0 10-2 0v1a1 1 0 102 0V3zM15.657 5.757a1 1 0 00-1.414-1.414l-.707.707a1 1 0 001.414 1.414l.707-.707zM18 10a1 1 0 01-1 1h-1a1 1 0 110-2h1a1 1 0 011 1zM5.05 6.464A1 1 0 106.464 5.05l-.707-.707a1 1 0 00-1.414 1.414l.707.707zM5 10a1 1 0 01-1 1H3a1 1 0 110-2h1a1 1 0 011 1zM8 16v-1h4v1a2 2 0 11-4 0zM12 14c.015-.34.208-.646.477-.859a4 4 0 10-4.954 0c.27.213.462.519.477.859h4z" />`,
  'book-open': `<path d="M9 4.804A7.968 7.968 0 005.5 4c-1.255 0-2.443.29-3.5.804v10A7.969 7.969 0 015.5 14c1.669 0 3.218.51 4.5 1.385A7.962 7.962 0 0114.5 14c1.255 0 2.443.29 3.5.804v-10A7.968 7.968 0 0014.5 4c-1.255 0-2.443.29-3.5.804V4.804z" />`
};
---

<BaseLayout 
  title="Programs & Services - IHARC" 
  description="Comprehensive support services addressing homelessness, mental health, addictions, and community safety across Northumberland County."
>
  <Header />
  
  <main id="main" class="flex-1">
    <PageHero 
      title="Programs & Services"
      description="Comprehensive, integrated support designed to meet you where you are and help you get where you want to go."
      background="red"
      size="medium"
    />

    <!-- Quick Access to Services -->
    <section class="py-16 bg-white">
      <div class="container">
        <div class="text-center mb-12">
          <h2 class="text-3xl lg:text-4xl font-heading font-bold text-gray-900 mb-6">
            Need Help Right Now?
          </h2>
          <p class="text-xl text-gray-600 max-w-3xl mx-auto">
            If you're experiencing a crisis or emergency, we have immediate support available 24/7.
          </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-5xl mx-auto">
          <a href="/get-help" class="group bg-red-50 border-2 border-red-200 rounded-2xl p-8 hover:border-brand-red hover:shadow-lg transition-all">
            <div class="text-center">
              <div class="w-16 h-16 bg-brand-red rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-105 transition-transform">
                <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 20 20" aria-hidden="true">
                  <path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z" />
                </svg>
              </div>
              <h3 class="text-xl font-semibold text-gray-900 mb-3 group-hover:text-brand-red">Crisis Support</h3>
              <p class="text-gray-600">24/7 emergency assistance and immediate help</p>
            </div>
          </a>

          <a href="tel:905-555-HELP" class="group bg-blue-50 border-2 border-blue-200 rounded-2xl p-8 hover:border-blue-600 hover:shadow-lg transition-all">
            <div class="text-center">
              <div class="w-16 h-16 bg-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-105 transition-transform">
                <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 20 20" aria-hidden="true">
                  <path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z" />
                </svg>
              </div>
              <h3 class="text-xl font-semibold text-gray-900 mb-3 group-hover:text-blue-600">Call IHARC</h3>
              <p class="text-gray-600">(905) 555-HELP<br />Mon-Fri, 8:30-4:30</p>
            </div>
          </a>

          <a href="/contact" class="group bg-green-50 border-2 border-green-200 rounded-2xl p-8 hover:border-green-600 hover:shadow-lg transition-all">
            <div class="text-center">
              <div class="w-16 h-16 bg-green-600 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-105 transition-transform">
                <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                </svg>
              </div>
              <h3 class="text-xl font-semibold text-gray-900 mb-3 group-hover:text-green-600">Visit Us</h3>
              <p class="text-gray-600">Find our locations and office hours</p>
            </div>
          </a>
        </div>
      </div>
    </section>

    <SectionDivider type="subtle" />

    <!-- All Programs -->
    <section class="py-16 bg-gray-50">
      <div class="container">
        <div class="text-center mb-12">
          <h2 class="text-3xl lg:text-4xl font-heading font-bold text-gray-900 mb-6">
            Our Services
          </h2>
          <p class="text-xl text-gray-600 max-w-3xl mx-auto">
            We offer a full spectrum of support services designed to address the interconnected challenges of homelessness, mental health, addictions, and community safety.
          </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
          {programs.map((program) => (
            <div class="bg-white rounded-2xl p-8 shadow-sm border border-gray-200 hover:shadow-lg hover:border-brand-red/20 transition-all group">
              <div class="flex items-center mb-6">
                <div class="w-12 h-12 bg-brand-red/10 rounded-xl flex items-center justify-center mr-4 group-hover:bg-brand-red group-hover:text-white transition-colors">
                  <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" aria-hidden="true">
                    <Fragment set:html={iconMap[program.icon as keyof typeof iconMap]} />
                  </svg>
                </div>
                <h3 class="text-xl font-semibold text-gray-900 group-hover:text-brand-red transition-colors">
                  {program.title}
                </h3>
              </div>
              
              <p class="text-gray-600 leading-relaxed mb-6">
                {program.description}
              </p>
              
              <div class="border-t border-gray-100 pt-6">
                {program.href ? (
                  <a 
                    href={program.href} 
                    class="inline-flex items-center text-brand-red font-medium hover:text-brand-redDark transition-colors"
                  >
                    Learn More
                    <svg class="w-4 h-4 ml-2" fill="currentColor" viewBox="0 0 20 20" aria-hidden="true">
                      <path fill-rule="evenodd" d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z" clip-rule="evenodd" />
                    </svg>
                  </a>
                ) : (
                  <span class="text-gray-400 text-sm">More information coming soon</span>
                )}
              </div>
            </div>
          ))}
        </div>
      </div>
    </section>

    <SectionDivider type="subtle" />

    <!-- How to Access Services -->
    <section class="py-16 bg-white">
      <div class="container">
        <div class="max-w-4xl mx-auto">
          <div class="text-center mb-12">
            <h2 class="text-3xl lg:text-4xl font-heading font-bold text-gray-900 mb-6">
              How to Access Our Services
            </h2>
            <p class="text-xl text-gray-600">
              Getting help shouldn't be complicated. Here's how to connect with the support you need.
            </p>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <div class="text-center">
              <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6">
                <span class="text-2xl font-bold text-blue-600">1</span>
              </div>
              <h3 class="text-xl font-semibold text-gray-900 mb-4">Reach Out</h3>
              <p class="text-gray-600">
                Call, email, or visit us. No appointment needed for crisis support.
              </p>
            </div>

            <div class="text-center">
              <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6">
                <span class="text-2xl font-bold text-green-600">2</span>
              </div>
              <h3 class="text-xl font-semibold text-gray-900 mb-4">We Listen</h3>
              <p class="text-gray-600">
                Our team will understand your situation and identify how we can help.
              </p>
            </div>

            <div class="text-center">
              <div class="w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-6">
                <span class="text-2xl font-bold text-purple-600">3</span>
              </div>
              <h3 class="text-xl font-semibold text-gray-900 mb-4">We Act</h3>
              <p class="text-gray-600">
                Together, we'll create a plan and connect you with the right supports.
              </p>
            </div>
          </div>

          <div class="bg-brand-red/5 border border-brand-red/20 rounded-2xl p-8 mt-12">
            <div class="text-center">
              <h3 class="text-2xl font-semibold text-gray-900 mb-4">
                No Wrong Door
              </h3>
              <p class="text-gray-600 leading-relaxed mb-6">
                You don't need to know exactly which service you need. Contact us through any of our programs, and we'll help you navigate to the right support. We work as one team to serve you.
              </p>
              <div class="flex flex-col sm:flex-row gap-4 justify-center">
                <a href="/get-help" class="btn-primary">
                  Get Help Now
                </a>
                <a href="/contact" class="btn-secondary">
                  Contact Us
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <SectionDivider type="red-line" />

    <!-- Service Eligibility -->
    <section class="py-16 bg-gray-50">
      <div class="container">
        <div class="max-w-4xl mx-auto">
          <div class="text-center mb-12">
            <h2 class="text-3xl lg:text-4xl font-heading font-bold text-gray-900 mb-6">
              Who We Serve
            </h2>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <div class="bg-white rounded-2xl p-8 shadow-sm border border-gray-100">
              <div class="flex items-center mb-6">
                <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center mr-4">
                  <svg class="w-5 h-5 text-green-600" fill="currentColor" viewBox="0 0 20 20" aria-hidden="true">
                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                  </svg>
                </div>
                <h3 class="text-xl font-semibold text-gray-900">You're Eligible If</h3>
              </div>
              <ul class="space-y-3 text-gray-600">
                <li class="flex items-start">
                  <svg class="w-5 h-5 text-brand-red mr-3 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20" aria-hidden="true">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                  </svg>
                  You live in Northumberland County
                </li>
                <li class="flex items-start">
                  <svg class="w-5 h-5 text-brand-red mr-3 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20" aria-hidden="true">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                  </svg>
                  You're experiencing or at risk of homelessness
                </li>
                <li class="flex items-start">
                  <svg class="w-5 h-5 text-brand-red mr-3 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20" aria-hidden="true">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                  </svg>
                  You're struggling with mental health or addictions
                </li>
                <li class="flex items-start">
                  <svg class="w-5 h-5 text-brand-red mr-3 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20" aria-hidden="true">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                  </svg>
                  You need community safety support
                </li>
                <li class="flex items-start">
                  <svg class="w-5 h-5 text-brand-red mr-3 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20" aria-hidden="true">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                  </svg>
                  You're concerned about someone else's wellbeing
                </li>
              </ul>
            </div>

            <div class="bg-white rounded-2xl p-8 shadow-sm border border-gray-100">
              <div class="flex items-center mb-6">
                <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-4">
                  <svg class="w-5 h-5 text-blue-600" fill="currentColor" viewBox="0 0 20 20" aria-hidden="true">
                    <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" />
                  </svg>
                </div>
                <h3 class="text-xl font-semibold text-gray-900">Good to Know</h3>
              </div>
              <ul class="space-y-3 text-gray-600">
                <li class="flex items-start">
                  <svg class="w-5 h-5 text-blue-600 mr-3 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20" aria-hidden="true">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                  </svg>
                  All services are free of charge
                </li>
                <li class="flex items-start">
                  <svg class="w-5 h-5 text-blue-600 mr-3 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20" aria-hidden="true">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                  </svg>
                  We respect your privacy and confidentiality
                </li>
                <li class="flex items-start">
                  <svg class="w-5 h-5 text-blue-600 mr-3 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20" aria-hidden="true">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                  </svg>
                  No appointment needed for crisis support
                </li>
                <li class="flex items-start">
                  <svg class="w-5 h-5 text-blue-600 mr-3 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20" aria-hidden="true">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                  </svg>
                  We work with you at your own pace
                </li>
                <li class="flex items-start">
                  <svg class="w-5 h-5 text-blue-600 mr-3 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20" aria-hidden="true">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                  </svg>
                  Cultural and language supports available
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>
  
  <Footer />
</BaseLayout>