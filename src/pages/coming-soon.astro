---
import BaseLayout from '../layouts/BaseLayout.astro';
import Logo from '../components/Logo.astro';

// Minimal contact & status info (remove fictional numbers)
const contact = {
  email: 'hello@iharc.ca',
  emergency: '911',
  suicideHotline: '811'
};

// Only keep the primary social channel to reduce clutter
const socialLinks = [
  { name: 'Facebook', href: 'https://facebook.com/goiharc', icon: 'facebook' }
];

// High‑level status milestones (optional simple roadmap)
const milestones: { label: string; done: boolean }[] = [
  { label: 'Platform Architecture', done: true },
  { label: 'Core Pages Drafted', done: true },
  { label: 'Accessibility Review', done: false },
  { label: 'Public Launch (Fall 2025)', done: false }
];
---

<BaseLayout 
  title="Under Construction - IHARC" 
  description="IHARC website is under construction and launching Fall 2025. For emergencies call 911. For mental health & suicide support dial 811. Email hello@iharc.ca or message us on Facebook."
  noindex={true}
>
  <main class="min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 flex items-center justify-center px-4 py-12">
    <div class="w-full max-w-3xl mx-auto">
      <!-- Logo -->
      <header class="mb-14">
        <div class="flex flex-col items-center">
          <div class="relative mb-6 w-full max-w-lg">
            <div class="aspect-[5/2] md:aspect-[5/2] w-full rounded-3xl bg-gradient-to-tr from-brand-red to-red-600 flex items-center justify-center shadow-md ring-4 ring-brand-red/10 overflow-hidden p-4 md:p-6">
              <img src="/logos/iharclogowithtag.png" alt="IHARC - Integrated Homelessness & Addictions Response Centre" class="w-full h-full object-contain drop-shadow-sm" loading="eager" decoding="async" />
            </div>
            <!-- subtle decorative glow -->
            <div class="absolute -inset-1 bg-gradient-to-r from-brand-red/20 to-red-600/20 blur-2xl opacity-20 pointer-events-none" aria-hidden="true"></div>
          </div>
          <h1 class="text-center text-3xl sm:text-4xl md:text-5xl font-heading font-bold tracking-tight text-gray-900 mb-4 leading-tight">
            Our New Digital Home is Coming
          </h1>
          <p class="text-center text-lg md:text-xl text-gray-600 max-w-2xl leading-relaxed">
            We&apos;re assembling a unified, accessible hub for homelessness & addictions response across Northumberland County. Thanks for your patience while we build.
          </p>
        </div>
      </header>

      <!-- Coming Soon Message -->
      <section class="bg-white/70 backdrop-blur-sm border border-gray-200 rounded-3xl shadow-sm p-6 md:p-10 space-y-10">
        <div class="grid md:grid-cols-2 gap-10 items-start">
          <!-- Status & Launch Info -->
          <div>
            <h2 class="text-2xl md:text-3xl font-heading font-bold text-gray-900 mb-4">Website Status</h2>
            <p class="text-gray-600 leading-relaxed mb-6">
              You&apos;re viewing our temporary landing page (August 2025). The full experience—resources, real‑time program info, and integrated service navigation—will launch in <span class="font-semibold text-brand-red">Fall 2025</span>.
            </p>
            <ol class="space-y-3">
              {milestones.map(m => (
                <li class="flex items-center text-sm md:text-base" aria-current={m.done ? undefined : 'step'}>
                  <span class={`flex items-center justify-center w-6 h-6 mr-3 text-xs font-semibold rounded-full ${m.done ? 'bg-green-500 text-white' : 'bg-gray-200 text-gray-600'}`}
                    aria-hidden="true">
                    {m.done ? '✓' : ''}
                  </span>
                  <span class={m.done ? 'text-gray-700 line-through decoration-green-500/60' : 'text-gray-800'}>{m.label}</span>
                </li>
              ))}
            </ol>
            <div class="mt-8 group inline-flex">
              <a href="https://bikes.iharc.ca" target="_blank" rel="noopener noreferrer" class="relative inline-flex items-center gap-2 px-6 py-3 rounded-full bg-brand-red text-white font-medium shadow hover:shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-red transition">
                <span class="absolute inset-0 rounded-full bg-gradient-to-r from-brand-red to-red-600 opacity-0 group-hover:opacity-100 transition" aria-hidden="true"></span>
                <span class="relative">Open Bike Safe App</span>
                <svg class="w-4 h-4 relative" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M5 12h14"/><path d="M12 5l7 7-7 7"/></svg>
              </a>
            </div>
          </div>

          <!-- Help & Contact -->
          <div class="bg-gray-50 rounded-2xl p-6 border border-gray-200">
            <h3 class="text-xl font-semibold text-gray-900 mb-4">Need Support?</h3>
            <p class="text-gray-700 leading-relaxed mb-5">We&apos;re still here while the site is built. Reach out if you need assistance or want to connect.</p>
            <ul class="space-y-4">
              <li class="flex items-start">
                <div class="flex-shrink-0 mt-0.5 w-8 h-8 rounded-lg bg-red-100 flex items-center justify-center text-red-600 font-semibold">911</div>
                <div class="ml-4 text-sm">
                  <p class="font-medium text-gray-900">Emergency Services</p>
                  <p class="text-gray-600">Call immediately if you or someone else is in danger.</p>
                </div>
              </li>
              <li class="flex items-start">
                <div class="flex-shrink-0 mt-0.5 w-8 h-8 rounded-lg bg-indigo-100 flex items-center justify-center text-indigo-600 font-semibold">811</div>
                <div class="ml-4 text-sm">
                  <p class="font-medium text-gray-900">Mental Health & Suicide Support</p>
                  <p class="text-gray-600">Dial {contact.suicideHotline} for confidential help.</p>
                </div>
              </li>
              <li class="flex items-start">
                <div class="flex-shrink-0 mt-0.5 w-8 h-8 rounded-lg bg-brand-red/10 flex items-center justify-center text-brand-red font-semibold">@</div>
                <div class="ml-4 text-sm">
                  <p class="font-medium text-gray-900">General Inquiries</p>
                  <p>
                    <a href={`mailto:${contact.email}`} class="text-brand-red font-medium hover:underline focus:outline-none focus:ring-2 focus:ring-brand-red focus:ring-offset-2 rounded">{contact.email}</a>
                  </p>
                </div>
              </li>
              <li class="flex items-start">
                <div class="flex-shrink-0 mt-0.5 w-8 h-8 rounded-lg bg-blue-100 flex items-center justify-center text-blue-600 font-semibold">f</div>
                <div class="ml-4 text-sm">
                  <p class="font-medium text-gray-900">Message Us</p>
                  <p>
                    <a href={socialLinks[0].href} target="_blank" rel="noopener noreferrer" class="text-blue-600 font-medium hover:underline focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 rounded">Facebook (Messenger)</a>
                  </p>
                </div>
              </li>
            </ul>
            <p class="mt-6 text-xs text-gray-500 leading-relaxed">
              This page is a temporary placeholder while we finalize content, infrastructure, and accessibility improvements.
            </p>
          </div>
        </div>

        <!-- About Us -->
        <section class="border-t border-gray-200 pt-10">
          <div class="grid lg:grid-cols-5 gap-10 items-start">
            <div class="lg:col-span-3 space-y-6">
              <h2 class="text-2xl md:text-3xl font-heading font-bold text-gray-900">About IHARC</h2>
              <p class="text-gray-700 leading-relaxed text-base md:text-lg">
                The Integrated Homelessness & Addictions Response Centre (IHARC) is a community-based non-profit serving Northumberland County. We provide direct outreach, crisis response, and practical supports for individuals experiencing homelessness or addiction. Our work includes connecting people with housing and treatment options, distributing essential supplies, and helping navigate the complexities of health and social services. We also engage with residents, businesses, and local organizations to address community concerns and promote practical, balanced solutions to complex challenges. IHARC operates independently to remain responsive, innovative, and focused on real-world results.
              </p>
              <div class="space-y-4" aria-label="Explainer video">
                <!-- Primary Explainer Video -->
                <div class="group relative rounded-2xl overflow-hidden bg-gray-900 text-white shadow-sm">
                  <iframe
                    class="w-full aspect-video"
                    src="https://www.youtube.com/embed/LimsCSvFSCM"
                    title="IHARC Explainer Video"
                    loading="lazy"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                  <div class="absolute inset-0 pointer-events-none bg-gradient-to-t from-black/40 to-transparent opacity-0 group-hover:opacity-100 transition" aria-hidden="true"></div>
                </div>
                <div class="flex flex-wrap items-center gap-3">
                  <a href="https://www.youtube.com/@bxc-Iharc" target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-gray-900 text-white text-sm font-medium shadow hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-900 transition">
                    More Videos on YouTube
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M5 12h14"/><path d="M12 5l7 7-7 7"/></svg>
                  </a>
                </div>
              </div>
              <p class="text-xs text-gray-500">Primary explainer video embedded. Additional content available via our YouTube channel.</p>
            </div>
            <div class="lg:col-span-2 bg-white/60 border border-gray-200 rounded-2xl p-6 shadow-sm">
              <h3 class="text-lg font-semibold text-gray-900 mb-3">What We&apos;re Building</h3>
              <ul class="space-y-3 text-sm text-gray-700">
                <li class="flex items-start"><span class="mt-1 mr-2 h-2 w-2 rounded-full bg-brand-red"></span> Real-time outreach & program availability</li>
                <li class="flex items-start"><span class="mt-1 mr-2 h-2 w-2 rounded-full bg-brand-red"></span> Streamlined pathways to housing & treatment</li>
                <li class="flex items-start"><span class="mt-1 mr-2 h-2 w-2 rounded-full bg-brand-red"></span> Mobile-friendly crisis & resource navigation</li>
                <li class="flex items-start"><span class="mt-1 mr-2 h-2 w-2 rounded-full bg-brand-red"></span> Evidence-informed community engagement tools</li>
                <li class="flex items-start"><span class="mt-1 mr-2 h-2 w-2 rounded-full bg-brand-red"></span> Accessibility-first design & multilingual expansion</li>
              </ul>
            </div>
          </div>
        </section>

        <!-- Compact social footer -->
        <div class="mt-10 pt-6 border-t border-gray-200 flex flex-col md:flex-row md:items-center md:justify-between gap-4">
          <div class="flex items-center space-x-3">
            {socialLinks.map(link => (
              <a
                href={link.href}
                target="_blank"
                rel="noopener noreferrer"
                class="w-10 h-10 inline-flex items-center justify-center rounded-full bg-white border border-gray-200 shadow-sm text-gray-600 hover:text-brand-red hover:border-brand-red/40 transition focus:outline-none focus:ring-2 focus:ring-brand-red focus:ring-offset-2"
                aria-label={`IHARC on ${link.name}`}
              >
                {link.icon === 'facebook' && (
                  <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12S0 5.446 0 12.073C0 18.062 4.388 23.027 10.125 23.927v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>
                )}
              </a>
            ))}
          </div>
          <p class="text-sm text-gray-500 text-center md:text-right">© {new Date().getFullYear()} IHARC • Serving Northumberland County, Ontario</p>
        </div>
      </section>
    </div>
  </main>
</BaseLayout>

<style>
  /* Ensure smooth animations respect user preferences */
  @media (prefers-reduced-motion: reduce) {
    * {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
  
  /* Simple fade / elevate interactions respecting motion preferences */
  @media (prefers-reduced-motion: no-preference) {
    [data-animate] { transition: all .4s cubic-bezier(.4,0,.2,1); }
    [data-animate]:hover { transform: translateY(-2px); }
  }
</style>